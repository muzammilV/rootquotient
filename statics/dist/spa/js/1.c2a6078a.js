(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"48ac":function(t,s,e){},"713b":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-layout",{attrs:{view:"hHh lpR fFf"}},[e("q-header",{staticClass:"bg-dark",attrs:{elevated:""}},[e("q-toolbar",[e("q-toolbar-title",{staticClass:"cursor-pointer text-white text-weight-bold",on:{click:function(s){return t.$router.push("/")}}},[t._v("Expert Advice")]),t.$store.getters.getAuth?e("div",[t._v("\n        "+t._s(t.$store.getters.getUserData.email)+"\n        "),e("q-btn",{attrs:{"text-color":"white",flat:"",label:"Logout"},on:{click:t.onLogout}})],1):e("div",[e("q-btn",{attrs:{"text-color":"white",flat:"",label:"Login"},on:{click:t.onLoginBtn}}),e("q-btn",{attrs:{"text-color":"white",flat:"",label:"SignUp"},on:{click:t.onSignupBtn}})],1)],1)],1),e("q-page-container",[e("q-dialog",{model:{value:t.showLogin,callback:function(s){t.showLogin=s},expression:"showLogin"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Login")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",{staticStyle:{width:"500px"}},[e("q-input",{staticClass:"q-ma-xs",attrs:{type:"email",color:"secondary",outlined:"",label:"Email",rules:[function(t){return!!t||"Email is required"}]},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),e("q-input",{staticClass:"q-ma-xs",attrs:{color:"secondary",outlined:"",label:"Password",rules:[function(t){return!!t||"Password is required"}]},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),e("div",{staticClass:"text-center"},[e("q-btn",{staticClass:"q-ma-sm",attrs:{flat:"","text-color":"secondary",label:"Login"},on:{click:t.onLogin}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ma-sm",attrs:{flat:"","text-color":"red",label:"Cancel"}})],1)],1)],1),e("q-dialog",{model:{value:t.showSignup,callback:function(s){t.showSignup=s},expression:"showSignup"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Register")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",{staticStyle:{width:"500px"}},[e("q-input",{staticClass:"q-ma-xs",attrs:{type:"email",color:"secondary",outlined:"",label:"Email",rules:[function(t){return!!t||"Email is required"}]},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),e("q-input",{staticClass:"q-ma-xs",attrs:{color:"secondary",outlined:"",label:"Password",rules:[function(t){return!!t||"Password is required"}]},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),e("div",{staticClass:"text-center"},[e("q-btn",{staticClass:"q-ma-sm",attrs:{flat:"","text-color":"secondary",label:"Register"},on:{click:t.onSignup}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ma-sm",attrs:{flat:"","text-color":"red",label:"Cancel"}})],1)],1)],1),e("router-view")],1)],1)},o=[],i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-dialog",{model:{value:t.showLogin,callback:function(s){t.showLogin=s},expression:"showLogin"}},[e("q-card",{staticClass:"full-width cursor-pointer"},[e("div",{staticClass:"q-mx-xl shadow-15"},[e("q-tabs",{staticClass:"text-grey-7 rounded-borders fit",attrs:{dense:"","active-color":"black","indicator-color":"black"},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[e("q-tab",{attrs:{name:"login",label:"Login"}}),e("q-tab",{attrs:{name:"signup",label:"Register"}})],1),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"close-btn",attrs:{rounded:"",color:"red",icon:"close"}})],1),e("q-separator"),e("q-tab-panels",{attrs:{animated:"",swipeable:""},model:{value:t.tab,callback:function(s){t.tab=s},expression:"tab"}},[e("q-tab-panel",{staticClass:"q-pa-xl bg-transparent",attrs:{name:"login"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center"},[e("div",{staticClass:"text-bold q-my-md",staticStyle:{"font-size":"24px","font-family":"sans-serif"}},[t._v("Login")])]),e("div",{staticClass:"col-12"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.logIn,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"email",label:"Email"},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),e("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",label:"Password"},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-icon",{attrs:{name:"settings"}})]},proxy:!0},{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),e("div",{staticClass:"text-center q-mt-lg"},[e("q-btn",{staticClass:"q-px-xl q-ma-xs",attrs:{outline:"",rounded:"",label:"Login",type:"submit",color:"positive"}}),e("q-btn",{staticClass:"q-px-xl",attrs:{outline:"",rounded:"",label:"Reset",type:"reset",color:"negative"}})],1)],1)],1)])]),e("q-tab-panel",{attrs:{name:"signup"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center"},[e("div",{staticClass:"text-bold q-my-md",staticStyle:{"font-size":"24px","font-family":"sans-serif"}},[t._v("Sign up")])]),e("div",{staticClass:"col-12"},[e("q-form",{staticClass:"q-gutter-md",on:{submit:t.signUp,reset:t.onReset}},[e("q-input",{attrs:{outlined:"",type:"email",label:"Email"},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),e("q-input",{attrs:{outlined:"",type:t.isPwd?"password":"text",label:"Password"},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-icon",{attrs:{name:"settings"}})]},proxy:!0},{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password,callback:function(s){t.password=s},expression:"password"}}),e("q-input",{attrs:{outlined:"",type:t.isPwd2?"password":"text",label:"Password"},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-icon",{attrs:{name:"settings"}})]},proxy:!0},{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd2?"visibility_off":"visibility"},on:{click:function(s){t.isPwd2=!t.isPwd2}}})]},proxy:!0}]),model:{value:t.cpassword,callback:function(s){t.cpassword=s},expression:"cpassword"}}),e("div",{staticClass:"text-center"},[e("q-btn",{staticClass:"q-px-xl q-ma-xs",attrs:{rounded:"",outline:"",label:"Register",type:"submit",color:"primary"}}),e("q-btn",{staticClass:"q-px-xl",attrs:{rounded:"",outline:"",label:"Reset",type:"reset",color:"negative"}})],1)],1)],1)])])],1)],1)],1)},n=[],r={name:"Login",data:function(){return{showLogin:!0,isPwd:!0,isPwd2:!0,tab:"login",email:"",password:"",cpassword:""}},computed:{},methods:{onReset:function(){this.email="",this.password="",this.cpassword=""},logIn:function(){var t=this;this.$axios.post("/user/login",{email:this.email,password:this.password}).then((function(s){console.warn("User logged in!!"),t.$store.commit("setAuth",!0),t.$store.commit("setAuthToken",s.data.token),t.$store.commit("setUserData",s.data.data),s.data.data.isAdmin?(console.warn("Logged in as Admin"),t.$store.commit("setIsAdmin",!0),t.$router.push("/adminboard")):t.$router.push("/dashboard"),t.$store.dispatch("showInfo",s.data.msg)})).catch((function(s){t._.isUndefined(s.response)?console.log(s):(t.$store.dispatch("showAlert",s.response.data.msg),console.log(s.response))}))},signUp:function(){var t=this;this.$axios.post("/user",{email:this.email,password:this.password,cpassword:this.cpassword}).then((function(s){t.$store.dispatch("showInfo",s.data.msg)})).catch((function(s){t._.isUndefined(s.response)||t.$store.dispatch("showAlert",s.response.data.msg)}))}}},l=r,c=(e("a626"),e("2877")),d=e("24e8"),p=e("f09f"),u=e("429b"),m=e("7460"),w=e("9c40"),b=e("eb85"),f=e("adad"),g=e("823b"),h=e("0378"),q=e("27f9"),x=e("0016"),v=e("7f67"),y=e("eebe"),C=e.n(y),k=Object(c["a"])(l,i,n,!1,null,"79d3781a",null),L=k.exports;C()(k,"components",{QDialog:d["a"],QCard:p["a"],QTabs:u["a"],QTab:m["a"],QBtn:w["a"],QSeparator:b["a"],QTabPanels:f["a"],QTabPanel:g["a"],QForm:h["a"],QInput:q["a"],QIcon:x["a"]}),C()(k,"directives",{ClosePopup:v["a"]});var S={name:"MainLayout",components:{Dailog:L},data:function(){return{showLogin:!1,showSignup:!1,email:"",password:""}},methods:{onLoginBtn:function(){this.showLogin=!this.showLogin},onSignupBtn:function(){this.showSignup=!this.showSignup},onLogin:function(){var t=this;this.$axios.post("/user/login",{email:this.email,password:this.password}).then((function(s){console.warn("User logged in!!",s),t.$store.commit("setAuth",!0),t.showLogin=!1,t.$store.commit("setAuthToken",s.data.token),t.$store.commit("setUserData",s.data),t.$store.dispatch("showInfo",s.data.msg)})).catch((function(s){console.log(s),t.$store.dispatch("showAlert",s.response.data.msg)}))},onSignup:function(){var t=this;this.$axios.post("/user",{email:this.email,password:this.password}).then((function(s){t.$store.dispatch("showInfo",s.data.msg),console.log("User",s.data.msg),t.showSignup=!t.showSignup,t.showLogin=!0})).catch((function(t){console.error(t)}))},onLogout:function(){this.$store.commit("setAuth",!1),this.$store.commit("clearState",{})}}},$=S,P=e("4d5a"),Q=e("e359"),_=e("65c6"),A=e("6ac5"),I=e("4e73"),U=e("1c1c"),R=e("66e5"),E=e("4074"),T=e("09e3"),B=e("a370"),D=e("2c91"),N=Object(c["a"])($,a,o,!1,null,null,null);s["default"]=N.exports;C()(N,"components",{QLayout:P["a"],QHeader:Q["a"],QToolbar:_["a"],QToolbarTitle:A["a"],QBtn:w["a"],QMenu:I["a"],QList:U["a"],QItem:R["a"],QItemSection:E["a"],QPageContainer:T["a"],QDialog:d["a"],QCard:p["a"],QCardSection:B["a"],QSpace:D["a"],QInput:q["a"]}),C()(N,"directives",{ClosePopup:v["a"]})},a626:function(t,s,e){"use strict";var a=e("48ac"),o=e.n(a);o.a}}]);